import(/* webpackChunkName: "ghash-wasm" */"../pkg").then(module => {
    const input_form = document.getElementById('input')
    const blake224_output_form = document.getElementById('blake-224')
    const blake256_output_form = document.getElementById('blake-256')
    const blake384_output_form = document.getElementById('blake-384')
    const blake512_output_form = document.getElementById('blake-512')
    const md2_output_form = document.getElementById('md2')
    const md4_output_form = document.getElementById('md4')
    const md5_output_form = document.getElementById('md5')
    const ripemd128_output_form = document.getElementById('ripemd-128')
    const ripemd160_output_form = document.getElementById('ripemd-160')
    const ripemd256_output_form = document.getElementById('ripemd-256')
    const ripemd320_output_form = document.getElementById('ripemd-320')
    const sha0_output_form = document.getElementById('sha-0')
    const sha1_output_form = document.getElementById('sha-1')
    const sha224_output_form = document.getElementById('sha-224')
    const sha256_output_form = document.getElementById('sha-256')
    const sha384_output_form = document.getElementById('sha-384')
    const sha512_output_form = document.getElementById('sha-512')
    const sha512trunc224_output_form = document.getElementById('sha-512/224')
    const sha512trunc256_output_form = document.getElementById('sha-512/256')
    function calculate() {
        const input = (new TextEncoder).encode(input_form.value)
        blake224_output_form.value = module.Blake224.hash_to_lowercase(input)
        blake256_output_form.value = module.Blake256.hash_to_lowercase(input)
        blake384_output_form.value = module.Blake384.hash_to_lowercase(input)
        blake512_output_form.value = module.Blake512.hash_to_lowercase(input)
        md2_output_form.value = module.Md2.hash_to_lowercase(input)
        md4_output_form.value = module.Md4.hash_to_lowercase(input)
        md5_output_form.value = module.Md5.hash_to_lowercase(input)
        ripemd128_output_form.value = module.Ripemd128.hash_to_lowercase(input)
        ripemd160_output_form.value = module.Ripemd160.hash_to_lowercase(input)
        ripemd256_output_form.value = module.Ripemd256.hash_to_lowercase(input)
        ripemd320_output_form.value = module.Ripemd320.hash_to_lowercase(input)
        sha0_output_form.value = module.Sha0.hash_to_lowercase(input)
        sha1_output_form.value = module.Sha1.hash_to_lowercase(input)
        sha224_output_form.value = module.Sha224.hash_to_lowercase(input)
        sha256_output_form.value = module.Sha256.hash_to_lowercase(input)
        sha384_output_form.value = module.Sha384.hash_to_lowercase(input)
        sha512_output_form.value = module.Sha512.hash_to_lowercase(input)
        sha512trunc224_output_form.value = module.Sha512Trunc224.hash_to_lowercase(input)
        sha512trunc256_output_form.value = module.Sha512Trunc256.hash_to_lowercase(input)
    }
    input_form.onload = calculate()
    input_form.oninput = function() {
        calculate()
    }
})
